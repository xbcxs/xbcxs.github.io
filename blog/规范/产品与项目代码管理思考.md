[toc]

# 背景
公司的产品模式是开发一套覆盖大部分通用需求的平台来满足市场需求。目前市场的实际情况是各客户需求方都需要基于平台进行业务定制和扩展来满足客户需求。
# 需求
产品平台需要具备标准可扩展开发，支撑项目开发团队在平台上快速开发。同时保证平台功能升级能同步到各个项目升级上。其中主要涉及：
- 产品研发团队与项目团队管理
- 产品二次开发规范与标准
- 产品与项目代码管理

本文主要概述产品与项目代码管理

# 产品与项目代码管理方案
## 必备要素
- 产品内聚防篡改，接口增加防腐层
- 产品提供全方位的标准的扩展开发。
- 全体开发人员理解git管理规范，fork使用场景以及注意事项。

## 理想目标
项目团队可fork平台产品的程碑master到项目库下，遵从约定规范标准，项目需求在项目库下进行二次开发，产品需求由产品团队开发，开发完成发送通知给项目团队进行更新合并。

## 执行方案

**当前情况**

产品标准接口并不完备，项目需求迭代周期短。以至于产品fork出去的分支变成了修改源码的定制开发，后期很难与主板保持同步更新。最后项目要跟新主产品功能只能由产品团队花大量人力处理。

**过度方案**

针对具体某个项目需求，产品版本的接口标准不够完备，无法支撑松耦合的项目二次开发，则先由产品团队在产品代码上开出项目特性分支，进行开发管控。待产品具备低耦合支撑能力的时候，将该分支转化为fork分支交给项目托管即可。

**持续改进**

- 内聚产品代码,将代码按模块发布成jar
- 做好接口防腐层，规范标准接口

# 问题
**1. fork出去的项目如何定向更新产品部分功能？**

> 主产品模块化开发，可支持组件选配。项目上跟新后，根据需求选配模块。